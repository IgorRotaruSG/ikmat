function getMyPapersCall(a,b){if(0==b.rows.length&&isOffline())$("#my_papers_list_no_results").text("No papers to show. Please connect to internet to sync.");else if(0!=b.rows.length||isOffline()){if(b.rows.length>0){for(var c=[],d=0;d<b.rows.length;d++)c.push({id:b.rows.item(d).id,data:'<a href="#" data-transition="slide"><i class="fa fa-file-o"></i> '+b.rows.item(d).paper+"</a>"});_append("#my_papers_list",c),$("#my_papers_list_no_results").hide()}}else{$("#my_papers_list_no_results").text("No papers to show, yet.");var c={client:User.client,token:User.lastToken};Page.apiCall("myPapers",c,"get","myPapers")}}function getMyPapers(a){a.executeSql("select * from papers",[],getMyPapersCall,db.dbErrorHandle)}function my_papersInit(){if(User.isLogged()){var a=db.getDbInstance();a.transaction(getMyPapers,db.dbErrorHandle)}else Page.redirect("login.html")}function myPapers(a){if(a.success){var b=[];if(a.my_papers){var c='INSERT INTO "papers"("id","paper")',d=!1;for(var e in a.my_papers)a.my_papers.hasOwnProperty(e)&&(getIds.push(a.my_papers[e].id),d?c+=" UNION":d=!0,c+=' SELECT "'+a.my_papers[e].id+'" as "id", "'+a.my_papers[e].paper+'" as "paper"',b.push({id:a.my_papers[e].id,data:'<a href="#" data-transition="slide"><i class="fa fa-file-o"></i> '+a.my_papers[e].paper+"</a>"}));console.log(c),db.clean(),db.execute(c),$("#my_papers_list_no_results").hide(),_append("#my_papers_list",b)}}}var getIds=[],mp_currentTime=!1,mp_settings_type="myPaperUpdated";