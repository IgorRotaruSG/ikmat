function add_supplierInit(){if(isOffline()){$("#add_supplier_container_error").hide();var a={client:User.client,token:User.lastToken};Page.apiCall("registerSupplier",a,"get","registerSupplier")}else $("#add_supplier_container_error").text("No form to show. Please connect to internet to sync.")}function registerSupplier(a){if(a.success){var b="";b='<form id="registerSupplierForm">',b+=HTML.formGenerate(a.form_register_supplier,$.t("nav.add_supplier")),b+='<input type="hidden" name="edit" value="false">',b+="</form",$("#add_supplier_container").html(b),$("#"+$.mobile.activePage.attr("id")).trigger("create"),$(".overflow-wrapper").addClass("overflow-wrapper-hide"),$("#registerSupplierForm").submit(function(a){a.preventDefault();var b=HTML.validate($(this));if(b){var c=HTML.getFormValues($(this).parent()),d={client:User.client,token:User.lastToken,parameters:JSON.stringify(c)};$(".overflow-wrapper").removeClass("overflow-wrapper-hide"),Page.apiCall("registerSupplier",d,"get","registerSupplierSuccess")}return!1})}}function registerSupplierSuccess(a){console.log(a),void 0!=a.registration_steps&&void 0!=a.registration_steps.error?($("#alertPopup .alert-text").html($.t("error.duplicate_employee")),$("#alertPopup").off("popupafterclose").on("popupafterclose",function(){$(".overflow-wrapper").addClass("overflow-wrapper-hide")}),$("#alertPopup").popup("open",{positionTo:"window"})):($("#alertPopup .alert-text").html($.t("error.duplicate_employee")),$("#alertPopup").off("popupafterclose").on("popupafterclose",function(){$(".overflow-wrapper").removeClass("overflow-wrapper-hide"),add_supplierInit()}),$("#alertPopup").popup("open",{positionTo:"window"}))}