(function(){for(var a="_",b={},c={},d="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWX".split(""),e=d.length/2,f="Z",g="Y",h=e-1;h>-1;h--)b[d[h]]=d[h+e],c[d[h+e]]=d[h];var i=function(a){for(var c=a.split(""),d=c.length,e=1;d>e;e++)c[e]=b[c[e]];return c.join("")},j=function(a){for(var b,c,d,h=[],j=0,k=1,l=a.length,m=0;l>m;m++)b=Math.round(a[m]),c=b-j,j=b,0>c&&k>0?(k=-1,h.push(f)):c>0&&0>k&&(k=1,h.push(g)),d=Math.abs(c),d>=e?h.push(i(d.toString(e))):h.push(d.toString(e));return h.join("")},k=function(a){for(var d,h,i=[],j=a.split(""),k=j.length,l=1,m=[],n=0,o=0;k>o;o++)d=j[o],d in b||d===f||d===g?(0!==m.length&&(h=parseInt(m.join(""),e)*l+n,i.push(h),n=h),d===f?(l=-1,m=[]):d===g?(l=1,m=[]):m=[d]):m.push(c[d]);return i.push(parseInt(m.join(""),e)*l+n),i},l=function(b){for(var c,d=[],e=b.length,f=0;e>f;f++)c=b[f],d.push(j(c.x)),d.push(j(c.y));return d.join(a)},m=function(b){for(var c=[],d=b.split(a),e=d.length/2,f=0;e>f;f++)c.push({x:k(d[2*f]),y:k(d[2*f+1])});return c},n="image/jsignature;base30",o=function(a){return[n,l(a)]},p=function(a,b,c){"string"==typeof a&&(a.substring(0,n.length).toLowerCase()===n&&(a=a.substring(n.length+1)),c(m(a)))},q=function(a){var b=a.fn.jSignature;b("addPlugin","export","base30",o),b("addPlugin","export",n,o),b("addPlugin","import","base30",p),b("addPlugin","import",n,p)};if(null==this.jQuery)throw new Error("We need jQuery for some of the functionality. jQuery is not detected. Failing to initialize...");q(this.jQuery),this.jSignatureDebug&&(this.jSignatureDebug.base30={remapTailChars:i,compressstrokeleg:j,uncompressstrokeleg:k,compressstrokes:l,uncompressstrokes:m,charmap:b})}).call("undefined"!=typeof window?window:this);